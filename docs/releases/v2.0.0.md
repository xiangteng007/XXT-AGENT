# XXT-AGENT v2.0.0 Release Notes

> **Release Date**: 2026-01-17
> **GCP Project**: `investment-manager-1007`
> **Status**: âœ… Production

---

## ğŸ¯ Release Summary

XXT-AGENT v2.0.0 æ˜¯ä¸€æ¬¡é‡å¤§çš„ç”Ÿç”¢ç´šå‡ç´šï¼Œè§£æ±ºäº† 8 å€‹é—œéµæ¶æ§‹ gapsï¼Œå¯¦ç¾äº†å®‰å…¨å¼·åŒ–ã€å¯è§£é‡‹ AIã€å’Œç”Ÿç”¢ç©©å®šæ€§ã€‚

---

## âœ¨ New Features

### AI Gateway (`services/ai-gateway/`)

- æ–° Cloud Run æœå‹™ï¼Œä½œç‚º Gemini API å®‰å…¨é–˜é“
- Secret Manager æ•´åˆï¼ŒAPI Key ä¸å†æš´éœ²æ–¼å‰ç«¯
- æ”¯æ´ `/summarize`, `/sentiment`, `/impact`, `/chat`, `/batch-sentiment`

### FusedEvent v2.0 Schema

- æ–°å¢ `severityBreakdown` å¯è§£é‡‹åš´é‡æ€§è©•åˆ†
- åˆ†è§£ç‚º `market`, `news`, `social` ä¸‰ç¶­åº¦åˆ†æ•¸
- åŒ…å« `confidence` å’Œ AI è§£é‡‹èªªæ˜

### Production Hardening

- **Idempotency Store**: äº‹ä»¶å»é‡æ©Ÿåˆ¶ (Memory/Firestore)
- **DLQ Manager**: å¤±æ•—è¨Šæ¯è™•ç†å’Œé‡æ’­æ©Ÿåˆ¶
- **TimeSeriesRepository**: OHLCV æ™‚é–“åºåˆ—å„²å­˜æŠ½è±¡

### Social Connectors

- `SocialConnector` çµ±ä¸€ä»‹é¢
- `TwitterConnector` (API v2)
- `YouTubeConnector` (Data API v3)
- Quota ç®¡ç†å’Œè·¨å¹³å°èª¿åº¦

---

## ğŸ” Security Changes

| Before | After |
|--------|-------|
| `NEXT_PUBLIC_GEMINI_API_KEY` æš´éœ²æ–¼å‰ç«¯ | API Key å„²å­˜æ–¼ Secret Manager |
| å‰ç«¯ç›´æ¥å‘¼å« Gemini API | é€é ai-gateway å¾Œç«¯ä»£ç† |

---

## ğŸ“¦ New Files

```
services/ai-gateway/
â”œâ”€â”€ src/index.ts
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json

services/common/src/
â”œâ”€â”€ idempotency.ts
â”œâ”€â”€ dlq.ts
â”œâ”€â”€ timeseries.ts
â””â”€â”€ types.ts (updated)

services/social-dispatcher/src/
â””â”€â”€ connectors.py

docs/
â”œâ”€â”€ ARCHITECTURE.md (updated)
â”œâ”€â”€ API.md (new)
â”œâ”€â”€ OPS_RUNBOOK.md (updated)
â””â”€â”€ releases/v2.0.0.md (this file)
```

---

## ğŸš€ Deployment Info

| Service | URL |
|---------|-----|
| AI Gateway | <https://ai-gateway-400584093075.asia-east1.run.app> |
| Dashboard | <https://xxt-frontend.vercel.app> |

---

## ğŸ“Š Git Commits

```
fcd702d chore: update project config with investment-manager-1007
21cf754 feat(phase-c-d): timeseries repository, social connectors
27fcfbc feat(phase-a): security + production hardening
```

---

## âš™ï¸ Environment Variables

### Vercel (Dashboard)

```
NEXT_PUBLIC_AI_GATEWAY_URL=https://ai-gateway-400584093075.asia-east1.run.app
```

### Cloud Run (ai-gateway)

```
GEMINI_API_KEY=[from Secret Manager]
```

---

## ğŸ”— References

- [Architecture v2.0](../ARCHITECTURE.md)
- [API Documentation](../API.md)
- [Operations Runbook](../OPS_RUNBOOK.md)
